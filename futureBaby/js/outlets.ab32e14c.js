(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["outlets"],{"142c":function(t,i,e){},"490d":function(t,i,e){},6056:function(t,i,e){"use strict";e("6caa")},"6caa":function(t,i,e){},"8a6f":function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABTUlEQVQ4T+2TsUoDQRCG/9kTxcBCLMXGPuQFxEbL40CEZC8EQkAkrYU+iZUp0liEZC+g11xpl0fwLcQUFuKR25FTL2i43K0QO7db+Ofbf+bfIaz50Jp5+AeWTzSKoi1jTMXzvFme2nqGw+Gw5jhOD0BHCLHBzPtKqedlaCFQa71tjGkSUY+IDoDPEJl5JqXcdV33zQo4mUxqSZJ8uCGineUiZr72ff+itGWt9SmASwALNzlFPJ/P6+12+7EQ2O/3K9Vq9YWIRFE0zDz1ff9wlebHDMfj8RkRdb4cbuYVGWO6rVbr1gqYicIwlHEcHzPzFYCFmzQMItpTSr3+CpiJgyA4Yeb77F4URqYp/DaDwUBKKZ8ApO2zEKLeaDRyw7ACpiKt9QOAIwBTpdTKMKyBo9HoXAhxA6CplLorW06r1Us3piiI749YActc/SnwHZOlbRVB1M44AAAAAElFTkSuQmCC"},"9d4c":function(t,i,e){"use strict";e("142c")},b67b:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"outlets"},[s("header",[s("img",{attrs:{src:t.logo,alt:""}}),s("div",[t._v(t._s(t.mobile))])]),s("div",{staticClass:"content"},[s("van-swipe",{staticClass:"my-swipe cover",attrs:{autoplay:3e3,"indicator-color":"white"}},t._l(t.banners,(function(i){return s("van-swipe-item",{key:i.banId,on:{click:function(e){return t.$router.push({path:"/details",query:{banId:i.banId}})}}},[s("img",{attrs:{src:i.purl,alt:""}})])})),1),s("div",[s("div",{staticClass:"outlets-title"},[s("div",{staticClass:"title"},[t._v("全部网点")]),s("div",{staticClass:"city-box",on:{click:function(i){t.showPicker=!0}}},[s("span",{staticClass:"city"},[t.city?s("span",[t._v(t._s(t.city))]):s("span",[t._v("请选择您所在的城市")])]),s("span",{staticClass:"iconfont icon-fanhui2 icon"})])]),s("van-action-sheet",{attrs:{title:"请选择您所在城市"},model:{value:t.showPicker,callback:function(i){t.showPicker=i},expression:"showPicker"}},[s("div",{staticClass:"city-content"},[t.province?s("div",[s("div",{staticClass:"step",staticStyle:{display:"inline-block"}},[s("div",{staticClass:"circle"}),s("div",{staticClass:"line"}),s("div",{staticClass:"circle"})]),s("div",{staticStyle:{display:"inline-block"}},[s("van-field",{attrs:{readonly:"",clickable:"",placeholder:"请选择省份"},on:{click:function(i){t.isShow=1}},model:{value:t.province,callback:function(i){t.province=i},expression:"province"}}),s("van-field",{attrs:{readonly:"",clickable:"",placeholder:"请选择城市"},on:{click:function(i){t.isShow=2}},model:{value:t.city,callback:function(i){t.city=i},expression:"city"}})],1)]):s("div",[s("div",{staticClass:"title"},[t._v("热门城市")]),s("div",{staticClass:"hot-cities"},t._l(t.cities,(function(i){return s("div",{staticClass:"city",on:{click:function(e){return t.selectCity(i)}}},[t._v(t._s(i))])})),0)]),s("div",{staticClass:"title"},[t._v("选择省份/城市")]),s("div",{staticClass:"cities"},[1==t.isShow?s("div",t._l(t.provinceList,(function(i){return s("div",{on:{click:function(e){return t.getCityList(i.value,i.id)}}},[s("span",[t._v(t._s(i.letter))]),t._v(t._s(i.value)+" ")])})),0):2==t.isShow?s("div",t._l(t.cityList,(function(i){return s("div",{on:{click:function(e){return t.selectCity(i.value)}}},[s("span",[t._v(t._s(i.letter))]),t._v(" "+t._s(i.value)+" ")])})),0):t._e()])])]),s("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(i){t.isLoading=i},expression:"isLoading"}},[s("van-list",{attrs:{finished:t.finished,"finished-text":"暂无更多数据"},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},t._l(t.list,(function(i){return s("div",{key:i.olsId,staticClass:"item",on:{click:function(e){return t.toNewworkDetail(i.state,i.olsId)}}},[s("div",{staticClass:"item-top"},[s("div",{staticClass:"item-top-img"},[s("img",{attrs:{src:i.image,alt:""}}),1!=i.state?s("span",{staticClass:"item-top-text"},[t._v("筹备中")]):t._e()]),s("div",{staticClass:"item-top-right"},[s("div",{staticClass:"name"},[t._v(t._s(i.olsName))]),s("div",{staticClass:"btn"},[s("img",{attrs:{src:e("8a6f"),alt:""}}),s("span",[t._v(t._s(i.distance)+"km")])])])]),s("div",{staticClass:"icon-box"},[s("span",{staticClass:"iconfont icon-weizhi icon"}),s("div",{staticClass:"location"},[t._v(t._s(i.province)+t._s(i.city)+t._s(i.area)+t._s(i.address))])]),s("div",{staticClass:"icon-box"},[s("span",{staticClass:"iconfont icon-dianhua icon"}),i.mobile?s("div",{staticClass:"tel"},[t._v(t._s(i.mobile))]):s("div",[t._v("暂无")])])])})),0)],1)],1)],1),s("PopUp",{attrs:{show:t.showToast}},[s("div",{attrs:{slot:"title"},slot:"title"},[t._v("提示")]),s("div",{attrs:{slot:"dec"},slot:"dec"},[t._v("该网点筹备中，暂无信息展示，尽情期待！")]),s("div",{attrs:{slot:"redBtn"},on:{click:function(i){t.showToast=!1}},slot:"redBtn"},[t._v("确认")])]),s("MainTabBar"),s("div",{attrs:{id:"allmap"}})],1)},n=[],a=(e("99af"),e("2909")),o=e("dc9f"),c=e("9fd7"),l=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("van-overlay",{attrs:{show:t.show}},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"block"},[s("img",{attrs:{src:e("f7a0"),alt:""}}),s("div",{staticClass:"title"},[t._t("title")],2),s("div",{staticClass:"dec"},[t._t("dec")],2),s("div",[s("div",{staticClass:"btn red"},[t._t("redBtn")],2)])])])])},r=[],d={props:["show"]},u=d,h=(e("6056"),e("2877")),v=Object(h["a"])(u,l,r,!1,null,"ad172e72",null),f=v.exports,g=e("abe0"),p=e.n(g),b=e("2f14"),m=(e("e96b"),{data:function(){return{PageNumber:1,PageSize:10,isShow:1,showPicker:!1,showToast:!1,isLoading:!1,loading:!1,finished:!1,latitude:Object(b["c"])("latitude"),longitude:Object(b["c"])("longitude"),city:Object(b["c"])("city"),province:Object(b["c"])("province"),cityList:[],provinceList:[],banners:[],list:[],config:{},cities:["北京","上海","广州","深圳","杭州","成都"],mobile:"",logo:""}},mounted:function(){this.getBanner(),this.provinceList=Object(b["a"])(this.objToArr("86"),"value"),this.getPoint(),this.getConfig(),this.getOutlets()},methods:{getConfig:function(){var t=this;this.$http("/other/showConfig").then((function(i){200==i.code&&(t.mobile=i.data.mobile,t.logo=i.data.logo)}))},getPoint:function(){var t=this,i=(new BMapGL.Map("allmap"),new BMapGL.Geocoder);i.getPoint(this.city,(function(i){i?(t.latitude=i.lat,t.longitude=i.lng,t.getOutlets()):console.log("地址解析没有结果")}),this.city)},selectCity:function(t){this.city=t,this.showPicker=!1,this.PageNumber=1,this.list=[],this.getPoint()},getCityList:function(t,i){this.province=t,this.city="",this.isShow=2,this.cityList=Object(b["a"])(this.objToArr(i),"value")},objToArr:function(t){var i=[];for(var e in p.a[t])p.a[t].hasOwnProperty.call(p.a[t],e)&&i.push({id:e,value:p.a[t][e]});return i},getBanner:function(){var t=this;this.$http("/other/getBanner",{positions:2}).then((function(i){200==i.code&&(t.banners=i.data)}))},getOutlets:function(){var t=this;this.loading=!0,this.$http("/outlets/getOutlets",{latitude:this.latitude,longitude:this.longitude,city:this.city,PageNumber:this.PageNumber,PageSize:this.PageSize}).then((function(i){200==i.code&&(t.clock=1,t.loading=!1,t.list=i.data,t.PageSize==i.data.length?window.addEventListener("scroll",t.handleScroll):(console.log(789),t.finished=!0))}))},handleScroll:function(){var t=this,i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,e=document.documentElement.clientHeight||document.body.clientHeight,s=document.documentElement.scrollHeight||document.body.scrollHeight;i+e>s-50&&1==this.clock&&(this.clock=2,this.PageNumber++,this.loading=!0,this.$http("/outlets/getOutlets",{latitude:this.latitude,longitude:this.longitude,city:this.city,PageNumber:this.PageNumber,PageSize:this.PageSize}).then((function(i){200==i.code&&(t.clock=1,t.loading=!1,t.list=[].concat(Object(a["a"])(t.list),Object(a["a"])(i.data)),i.data.length<t.PageSize&&(t.finished=!0,window.removeEventListener("scroll",t.handleScroll)))})))},onRefresh:function(){this.PageNumber=1,this.finished=!1,this.isLoading=!1,this.list=[],this.getOutlets()},toNewworkDetail:function(t,i){1==t?this.$router.push({path:"/networkDetail",query:{olsId:i}}):this.showToast=!0}},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll)},components:{LogoTel:o["a"],MainTabBar:c["a"],PopUp:f}}),C=m,w=(e("f49a"),Object(h["a"])(C,s,n,!1,null,"53eaa7a6",null));i["default"]=w.exports},dc9f:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"logo-tel"},[e("img",{attrs:{src:t.logo,alt:""}}),e("div",[t._v(t._s(t.mobile))])])},n=[],a={data:function(){return{logo:"",mobile:""}},created:function(){this.getConfig()},methods:{getConfig:function(){var t=this;this.$http("/other/showConfig").then((function(i){200==i.code&&(t.mobile=i.data.mobile,t.logo=i.data.logo)}))}}},o=a,c=(e("9d4c"),e("2877")),l=Object(c["a"])(o,s,n,!1,null,null,null);i["a"]=l.exports},f49a:function(t,i,e){"use strict";e("490d")}}]);